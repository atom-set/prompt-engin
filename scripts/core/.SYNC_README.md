# 同步工具使用说明

> 这是一个隐藏工具，仅用于内部使用。

## 功能

从 `/Users/gengxiao/workspace/D-codeup/cursor-rules/rules` 目录同步最新的提示词到当前工程的 `prompts/` 目录。

## 使用方法

### 预览模式（推荐先运行）

```bash
# 预览将要同步的文件，不会实际修改
python3 scripts/core/.sync_from_cursor_rules.py --dry-run

# 或使用 Shell 脚本
bash scripts/core/.sync_from_cursor_rules.sh --dry-run
```

### 实际同步

```bash
# 执行实际同步
python3 scripts/core/.sync_from_cursor_rules.py

# 或使用 Shell 脚本
bash scripts/core/.sync_from_cursor_rules.sh
```

### 静默模式

```bash
# 静默模式，只显示错误
python3 scripts/core/.sync_from_cursor_rules.py --quiet
```

### 自定义路径

```bash
# 指定源目录和目标目录
python3 scripts/core/.sync_from_cursor_rules.py \
  --source /path/to/source \
  --target /path/to/target
```

## 目录映射

工具会自动将源目录结构映射到目标目录：

- `rules/stages/` → `prompts/stages/`
- `rules/project-types/` → `prompts/types/`
- `rules/templates/` → `prompts/templates/`

## 同步规则

1. **增量同步**：只同步源文件比目标文件新的文件
2. **自动备份**：如果目标文件存在，会先备份（添加 `.backup.时间戳` 后缀）
3. **跳过 README**：默认跳过 `README.md` 文件（避免覆盖项目说明）

## 注意事项

- 工具会保持原有的目录结构
- 同步前建议先使用 `--dry-run` 预览
- 备份文件会保留在目标目录中，可以手动清理

