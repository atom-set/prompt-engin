---
name: modular-output
description: 完整方案模块化输出策略，适用于复杂内容的输出
tags: [rules, prompt-engine]
---

# 概述

## 使用场景

当用户需要：
- **应用此规范**时，自动加载此技能

## 触发条件

以下情况自动应用此规范：
- 用户要求应用相关规范时
- AI 助手识别到需要使用此规范时

## 与其他规则的配合

- 与其他规则技能配合使用
- 与核心规则配合使用

---

# 完整方案模块化输出策略

> **文件说明**：本文件包含完整方案模块化输出策略
> **规则来源**：rules/stages/common/mode/plan/modular-output.md

---

## 概述

本文件定义了完整方案模块化输出策略，适用于完整技术方案、设计方案等复杂内容的输出。采用模块化输出策略，将复杂内容拆分为多个逻辑模块，按顺序逐步输出，便于用户理解和确认，提高方案质量和用户体验。

---

对于完整技术方案、设计方案等复杂内容的输出，应采用**模块化输出**策略，便于用户理解和确认：

- **适用场景**：
  - 完整的技术方案、设计方案
  - 包含多个逻辑部分的复杂方案
  - 需要分步骤确认的方案内容
  
- **常见模块类型**：
  1. **整体框架**：方案的整体架构、核心思路、主要组成部分
  2. **方案设计**：详细设计说明、技术选型、实现思路、关键决策
  3. **代码框架**：代码结构、关键接口、实现要点、代码示例
  4. **实施计划**：开发步骤、时间安排、注意事项、依赖关系
  5. **其他模块**：根据具体方案类型，可包含测试策略、部署方案、风险评估等

- **模块划分原则**：
  - **划分依据**：
    1. **功能维度**：按功能模块划分（如：用户模块、订单模块、支付模块）
    2. **层次维度**：按架构层次划分（如：前端、后端、数据库）
    3. **阶段维度**：按实施阶段划分（如：设计、开发、测试、部署）
    4. **复杂度维度**：按复杂度划分（如：核心模块、辅助模块、工具模块）
  - **划分标准**：
    1. **单一职责**：每个模块应有明确的单一主题或职责
    2. **相对独立**：模块之间应相对独立，减少强耦合
    3. **合理粒度**：模块大小适中，建议每个模块 200-1000 字
    4. **逻辑清晰**：模块划分应符合逻辑，便于理解
  - **模块大小控制**：
    - **过大模块**（>1000字）：应进一步拆分为子模块
    - **适中模块**（200-1000字）：保持现状
    - **过小模块**（<200字）：考虑合并到相关模块
  - **依赖关系处理**：
    1. **依赖识别**：明确模块之间的依赖关系
    2. **输出顺序**：先输出被依赖的模块，再输出依赖其他模块的模块
    3. **依赖说明**：在模块输出时，说明与其他模块的关系
  - **灵活性原则**：
    1. **方案类型适配**：根据方案类型（技术方案、设计方案、实施方案等）调整模块划分
    2. **用户需求优先**：优先考虑用户的需求和理解习惯
    3. **动态调整**：根据用户反馈，动态调整模块划分

- **输出流程**：
  1. **第一步：输出模块列表**
     - 先列出方案将包含的所有模块
     - 说明每个模块的主要内容
     - 询问用户是否需要调整模块划分
  
  2. **第二步：按模块顺序输出**
     - 按照逻辑顺序（整体框架 → 方案设计 → 代码框架 → 实施计划）逐个输出
     - 每个模块独立输出，使用清晰的标题分隔
     - 每个模块输出后，可询问用户是否需要调整或继续下一模块
  
  3. **第三步：总结确认**
     - 所有模块输出完成后，提供方案总结
     - 确认是否有遗漏或需要补充的内容

- **输出方式**：
  - ✅ 每个模块使用独立的标题（如"## 1. 整体框架"）
  - ✅ 模块之间使用分隔线区分
  - ✅ 每个模块内容完整、可独立理解
  - ✅ 支持用户要求跳过某个模块或调整输出顺序

- **优势**：
  - ✅ 避免一次性输出过长内容，提高可读性
  - ✅ 便于用户分步确认和调整
  - ✅ 降低理解难度，提高方案质量
  - ✅ 支持灵活的交互和调整


